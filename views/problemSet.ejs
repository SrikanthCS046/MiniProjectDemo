<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Question Bank — InterviewPrep</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{
      --bg:#f6f9fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#5b67e2;
      --editor-bg:#0f1724;
    }
    body{
      background:var(--bg);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #0f1724;
    }

    /* Top nav */
    .topbar{
      background:var(--card);
      box-shadow: 0 2px 6px rgba(12,18,28,0.06);
      padding: 12px 20px;
      border-bottom-left-radius: 6px;
      border-bottom-right-radius: 6px;
    }

    /* Left column (filters + list) */
    .sidebar {
      min-height: calc(100vh - 72px);
      padding-top: 18px;
    }
    .filters .form-select, .filters .form-control {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 1px 3px rgba(12,18,28,0.03);
    }
    .problem-list-card {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(12,18,28,0.04);
    }
    .problem-row {
      transition: background .12s ease, transform .06s ease;
      cursor: pointer;
    }
    .problem-row:hover { background: #f1f5f9; transform: translateY(-1px); }

    /* Right column (problem detail + editor) */
    .detail-card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 8px 24px rgba(12,18,28,0.06);
    }
    .problem-title {
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .meta-pill {
      font-size:0.85rem;
      color:var(--muted);
      background:#f2f6fb;
      padding:6px 10px;
      border-radius:999px;
      display:inline-flex;
      gap:6px;
      align-items:center;
    }

    /* language selector & action bar */
    .action-bar {
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .editor-toolbar {
      display:flex;
      gap:8px;
      align-items:center;
    }

    /* Editor area */
    #editorContainer {
      height: 58vh;
      border-radius:10px;
      overflow:hidden;
      border: 1px solid rgba(15,23,36,0.06);
      background: var(--editor-bg);
      color: #d1d5db;
    }
    /* Fallback textarea styling */
    #fallbackEditor {
      width:100%;
      height:100%;
      background:#0b1220;
      color:#e6eef7;
      border:none;
      padding:12px;
      font-family: 'Courier New', monospace;
      box-sizing:border-box;
    }

    /* Responsive adjustments */
    @media (max-width: 992px){
      #editorContainer { height: 44vh; }
    }
  </style>
</head>
<body>

  <!-- Topbar -->
  <div class="topbar mb-3">
    <div class="container-fluid d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        <a class="fs-5 fw-semibold text-decoration-none" href="#">InterviewPrep</a>
        <nav class="d-none d-md-flex gap-2">
          <a class="text-muted text-decoration-none" href="#">Problemset</a>
          <a class="text-muted text-decoration-none" href="#">My Submissions</a>
          <a class="text-muted text-decoration-none" href="#">Contests</a>
        </nav>
      </div>

      <div class="d-flex align-items-center gap-2">
        <input class="form-control form-control-sm me-2 d-none d-md-block" style="width:200px" placeholder="Search problems...">
        <button class="btn btn-outline-secondary btn-sm">Sign in</button>
      </div>
    </div>
  </div>

  <!-- Main content -->
  <div class="container-fluid px-4">
    <div class="row gx-4">

      <!-- LEFT: Filters + Problem List -->
      <div class="col-lg-4 sidebar">
        <!-- Filters -->
        <div class="filters mb-3">
          <div class="d-flex gap-2 mb-2">
            <select id="filterDifficulty" class="form-select form-select-sm">
              <option value="">All Difficulty</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>

            <select id="filterStatus" class="form-select form-select-sm">
              <option value="">All Status</option>
              <option value="todo">To Solve</option>
              <option value="solved">Solved</option>
            </select>
          </div>

          <div class="d-flex gap-2 mb-2">
            <select id="filterTopic" class="form-select form-select-sm">
              <option value="">All Topics</option>
              <option value="array">Array</option>
              <option value="string">String</option>
              <option value="dp">Dynamic Programming</option>
            </select>

            <select id="filterCompany" class="form-select form-select-sm">
              <option value="">All Companies</option>
              <option value="amazon">Amazon</option>
              <option value="google">Google</option>
            </select>
          </div>

          <div class="d-flex gap-2 mb-2">
            <input id="searchProblems" type="search" class="form-control form-control-sm" placeholder="Search title or tags">
            <button id="clearFilters" class="btn btn-sm btn-outline-secondary">Clear</button>
          </div>
        </div>

        <!-- Problem list -->
        <div class="problem-list-card">
          <div class="list-group list-group-flush">
            <!-- Example problem rows - in a real app these would be rendered dynamically -->
            <div class="list-group-item problem-row p-3 d-flex align-items-start gap-3" data-id="p1" tabindex="0">
              <div class="flex-shrink-0">
                <span class="badge bg-success">Easy</span>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between">
                  <div>
                    <div class="fw-semibold">Two Sum</div>
                    <div class="text-muted small">Array • 1-line</div>
                  </div>
                  <div class="text-end">
                    <div class="small text-muted">AC 45%</div>
                    <div class="small text-muted">Solved 2.3k</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="list-group-item problem-row p-3 d-flex align-items-start gap-3" data-id="p2" tabindex="0">
              <div class="flex-shrink-0">
                <span class="badge bg-warning text-dark">Medium</span>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between">
                  <div>
                    <div class="fw-semibold">Minimum Number of Operations to Make All Array Elements Equal to 1</div>
                    <div class="text-muted small">Array • math</div>
                  </div>
                  <div class="text-end">
                    <div class="small text-muted">AC 38%</div>
                    <div class="small text-muted">Solved 980</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="list-group-item problem-row p-3 d-flex align-items-start gap-3" data-id="p3" tabindex="0">
              <div class="flex-shrink-0">
                <span class="badge bg-danger">Hard</span>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between">
                  <div>
                    <div class="fw-semibold">Median of Two Sorted Arrays</div>
                    <div class="text-muted small">Binary Search</div>
                  </div>
                  <div class="text-end">
                    <div class="small text-muted">AC 29%</div>
                    <div class="small text-muted">Solved 650</div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>


      <!-- RIGHT: Problem detail + editor -->
      <div class="col-lg-8">

        <div class="detail-card mb-3">
          <!-- Title & meta -->
          <div class="problem-title mb-3">
            <h2 class="h5 mb-0" id="problemTitle">Select a problem from the left</h2>
            <div class="ms-auto d-flex gap-2 align-items-center">
              <div class="meta-pill" id="problemDifficulty">Difficulty</div>
              <div class="meta-pill" id="problemAC">AC • --%</div>
            </div>
          </div>

          <!-- stat row + language select -->
          <div class="action-bar mb-3">
            <div class="d-flex gap-3 align-items-center">
              <div class="small text-muted">Status:
                <span id="problemStatus" class="fw-semibold ms-1">Not Attempted</span>
              </div>
              <div class="small text-muted">Time Limit: <span id="problemTime">1 s</span></div>
              <div class="small text-muted">Memory: <span id="problemMemory">128 MB</span></div>
            </div>

            <div class="editor-toolbar">
              <!-- Language selector (LeetCode-like pattern) -->
              <select id="languageSelect" class="form-select form-select-sm">
                <option value="javascript">JavaScript (Node.js)</option>
                <option value="python">Python 3</option>
                <option value="cpp">C++</option>
                <option value="java">Java</option>
              </select>

              <div class="btn-group">
                <button id="btnRun" class="btn btn-sm btn-outline-primary"><i class="bi bi-play-fill"></i> Run</button>
                <button id="btnSubmit" class="btn btn-sm btn-primary">Submit</button>
              </div>
            </div>
          </div>

          <!-- Problem description & editor split -->
          <div class="row g-3">
            <div class="col-lg-6">
              <div id="problemDescription" style="max-height:58vh; overflow:auto; padding-right:8px;">
                <h6 class="fw-semibold">Problem Description</h6>
                <p class="text-muted">Select a problem to view its full description, examples and constraints. In a real app this would be fetched from server and render markdown / HTML (preserving <code>&lt;pre&gt;</code> blocks for examples).</p>

                <!-- Example static content to mimic LeetCode's description -->
                <div id="descrContent" class="mb-3">
                  <p><strong>Example</strong></p>
                  <pre class="p-2 bg-light rounded">Input: nums = [1,2,3], target = 4
Output: [0,2]</pre>
                  <p><strong>Constraints</strong></p>
                  <ul>
                    <li>1 &lt;= nums.length &lt;= 10⁵</li>
                    <li>-10⁹ &lt;= nums[i] &lt;= 10⁹</li>
                  </ul>
                </div>

              </div>
            </div>

            <div class="col-lg-6">
              <div id="editorContainer" aria-label="code editor">
                <!-- Fallback (will be hidden if Monaco loads) -->
                <textarea id="fallbackEditor" placeholder="// Your code here..." spellcheck="false">
// Select a problem to load starter code
function twoSum(nums, target) {
  // write your solution
}
                </textarea>
              </div>
            </div>
          </div>

        </div>

      </div>

    </div>
  </div>

  <!-- Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Optional: Monaco Editor loader (CDN). If you want full VSCode-like editor, keep this.
       If you prefer not to load Monaco, the textarea fallback will remain visible.
       Note: for production, host monaco locally or use an approved bundler. -->
  <script>
    // Basic data & bindings for demo interactivity (not a full backend)
    const problems = {
      p1: {
        id:'p1', title:'Two Sum', difficulty:'Easy', ac:45, solved:'2.3k',
        desc: `<p>Given an array of integers <code>nums</code> and an integer <code>target</code>, return indices of the two numbers such that they add up to <code>target</code>.</p>
<pre>Example:
Input: nums = [2,7,11,15], target = 9
Output: [0,1]</pre>`,
        starter: `// JavaScript starter
function twoSum(nums, target) {
  const map = new Map();
  for(let i=0;i<nums.length;i++){
    const need = target - nums[i];
    if(map.has(need)) return [map.get(need), i];
    map.set(nums[i], i);
  }
  return [];
}`
      },
      p2: {
        id:'p2', title:'Minimum Number of Operations to Make All Array Elements Equal to 1', difficulty:'Medium', ac:38, solved:'980',
        desc: `<p>You are given an integer array <code>nums</code>. In one operation, you can pick two indices and replace one with gcd and other with lcm ... (truncated demo text)</p>`,
        starter: `# Python starter
def minOperations(nums):
    # write solution
    return -1`
      },
      p3: {
        id:'p3', title:'Median of Two Sorted Arrays', difficulty:'Hard', ac:29, solved:'650',
        desc: `<p>Given two sorted arrays ...</p>`,
        starter: `// C++ starter
vector<int> merge...`
      }
    };

    // UI helpers
    function loadProblem(pid){
      const p = problems[pid];
      if(!p) return;
      document.getElementById('problemTitle').innerText = p.title;
      document.getElementById('problemDifficulty').innerText = p.difficulty;
      document.getElementById('problemAC').innerText = `AC • ${p.ac}%`;
      document.getElementById('problemStatus').innerText = 'Not Attempted';
      document.getElementById('descrContent').innerHTML = p.desc;
      // load starter code into fallback editor
      document.getElementById('fallbackEditor').value = p.starter;
      // if Monaco editor exists, update it too
      if(window.editorInstance){
        window.editorInstance.setValue(p.starter);
      }
    }

    // wire click events on sample list items
    document.querySelectorAll('.problem-row').forEach(el=>{
      el.addEventListener('click', ()=> loadProblem(el.dataset.id));
      el.addEventListener('keydown', (e)=>{ if(e.key==='Enter') loadProblem(el.dataset.id) });
    });

    // language template logic - simple demo: switch starter snippet when language changes
    const languageTemplates = {
      javascript: `// JavaScript starter\nfunction twoSum(nums, target) {\n  const map = new Map();\n  for(let i=0;i<nums.length;i++){\n    const need = target - nums[i];\n    if(map.has(need)) return [map.get(need), i];\n    map.set(nums[i], i);\n  }\n  return [];\n}`,
      python: `# Python starter\ndef twoSum(nums, target):\n    seen = {}\n    for i, v in enumerate(nums):\n        need = target - v\n        if need in seen:\n            return [seen[need], i]\n        seen[v] = i\n    return []`,
      cpp: `// C++ starter\n#include <vector>\nusing namespace std;\nvector<int> twoSum(vector<int>& nums, int target) {\n    // solution\n    return {};\n}`,
      java: `// Java starter\nclass Solution {\n  public int[] twoSum(int[] nums, int target) {\n    return new int[]{0,0};\n  }\n}`
    };

    document.getElementById('languageSelect').addEventListener('change', (e)=>{
      const lang = e.target.value;
      const code = languageTemplates[lang] || '';
      document.getElementById('fallbackEditor').value = code;
      if(window.editorInstance) window.editorInstance.setValue(code);
    });

    document.getElementById('btnRun').addEventListener('click', ()=>{
      // demo run: show a temporary toast or alert; in real app you'd run code in sandbox
      alert('Run invoked — in production, execute the snippet in a sandboxed runner and display output.');
    });

    document.getElementById('btnSubmit').addEventListener('click', ()=>{
      alert('Submit invoked — submit code to backend grading queue in real app.');
    });

    // Attempt to load Monaco Editor (optional)
    (function loadMonaco(){
      // Use Monaco loader from CDN (for demo only). In production, bundle or self-host.
      const loader = document.createElement('script');
      loader.src = "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.39.0/min/vs/loader.min.js";
      loader.onload = () => {
        if(typeof require === 'function'){
          require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.39.0/min/vs' }});
          require(['vs/editor/editor.main'], function() {
            try {
              // hide fallback textarea & init editor
              document.getElementById('fallbackEditor').style.display = 'none';
              const editor = monaco.editor.create(document.getElementById('editorContainer'), {
                value: document.getElementById('fallbackEditor').value || '',
                language: 'javascript',
                theme: 'vs-dark',
                automaticLayout: true,
                fontSize: 13,
                minimap: { enabled: false }
              });
              window.editorInstance = editor;

              // switch monaco language on select change
              document.getElementById('languageSelect').addEventListener('change', (e)=>{
                const lang = e.target.value;
                let mLang = 'javascript';
                if(lang === 'python') mLang = 'python';
                if(lang === 'cpp') mLang = 'cpp';
                if(lang === 'java') mLang = 'java';
                monaco.editor.setModelLanguage(editor.getModel(), mLang);
              });
            } catch (err) {
              console.warn('Monaco init failed', err);
            }
          });
        }
      };
      loader.onerror = ()=> console.warn('Monaco loader failed to load — fallback textarea will be used.');
      document.body.appendChild(loader);
    })();

    // load first sample by default
    loadProblem('p1');

  </script>
</body>
</html>

